import{c as a,e as u,o as l,d as s,F as _,k as M,t as m,u as F,r as c,l as T,a as P,m as j,h as R,g as z,f as h,v as g,n as t,p as S,j as G}from "./index-CxPmLex7.js";/* empty css             */const J=["서울","경기","인천","대구","광주","부산","울산","대전","세종","강원","충북","충남","전북","전남","경북","경남","제주"],O={서울:["종로구","중구","용산구","성동구","광진구","동대문구","중랑구","성북구","강북구","도봉구","노원구","은평구","서대문구","마포구","양천구","강서구","구로구","금천구","영등포구","동작구","관악구","서초구","강남구","송파구","강동구"],경기:["수원시","용인시","고양시","화성시","성남시","부천시","남양주시","안산시","평택시","안양시","시흥시","파주시","김포시","의정부시","광주시","하남시","양주시","광명시","군포시","오산시","이천시","안성시","구리시","포천시","의왕시","양평군","여주시","동두천시","과천시","가평군","연천군"],인천:["중구","동구","미추홀구","연수구","남동구","부평구","계양구","서구","강화군","옹진군"],대구:["중구","동구","서구","남구","북구","수성구","달서구","달성군","군위군"],광주:["동구","서구","남구","북구","광산구"],부산:["중구","서구","동구","영도구","부산진구","동래구","남구","북구","해운대구","사하구","금정구","강서구","연제구","수영구","사상구","기장군"],울산:["중구","남구","동구","북구","울주군"],대전:["동구","중구","서구","유성구","대덕구"],세종:["세종시"],강원:["춘천시","원주시","강릉시","동해시","태백시","속초시","삼척시","홍천군","횡성군","영월군","평창군","정선군","철원군","화천군","양구군","인제군","고성군","양양군"],충북:["청주시","충주시","제천시","보은군","옥천군","영동군","증평군","진천군","괴산군","음성군","단양군"],충남:["천안시","공주시","보령시","아산시","서산시","논산시","계룡시","당진시","금산군","부여군","서천군","청양군","홍성군","예산군","태안군"],전북:["전주시","군산시","익산시","정읍시","남원시","김제시","완주군","진안군","무주군","장수군","임실군","순창군","고창군","부안군"],전남:["목포시","여수시","순천시","나주시","광양시"," 담양군","곡성군","구례군","고흥군","보성군","화순군","장흥군","강진군","해남군","영암군","무안군","함평군","영광군","장성군","완도군","진도군","신안군"],경북:["포항시","경주시","김천시","안동시","구미시","영주시","영천시","상주시","문경시","경산시","의성군","청송군","영양군","영덕군","청도군","고령군","성주군","칠곡군","예천군","봉화군","울진군","울릉군"],경남:["창원시","진주시","통영시","사천시","김해시","밀양시","거제시","양산시","의령군","함안군","창녕군","고성군","남해군","하동군","산청군","함양군","거창군","합천군"],제주:["제주시","서귀포시"]},H={key:0,class:"modal-backdrop"},K={class:"modal-content"},Q={key:0},W={class:"modal-btn-group"},X=["onClick"],Y={key:1},Z={class:"modal-title"},ee={class:"modal-btn-group"},se=["onClick"],te={__name:"AddressModal",props:{doList:Array,sigugunMap:Object,selectedDo:String,selectedSigugun:String,show:Boolean},emits:["close","selectDo","selectSigugun"],setup(k, {emit:e}){const y=e,b= r=>{y("selectSigugun",r),setTimeout(()=>{y("close")},100)};return(r, d)=>k.show?(l(),a("div",H,[s("div",K,[s("button",{class:"modal-close",onClick:d[0]||(d[0]= i=>r.$emit("close"))},"×"),k.selectedDo?(l(),a("div",Y,[s("div",Z,m(k.selectedDo)+"의 구/군 선택",1),s("div",ee,[(l(!0),a(_,null,M(k.sigugunMap[k.selectedDo], i=>(l(),a("button",{key:i,onClick: p=>b(i),class:"modal-btn"},m(i),9,se))),128))]),s("button",{class:"modal-back-btn",onClick:d[1]||(d[1]= i=>r.$emit("selectDo",""))},"이전")])):(l(),a("div",Q,[d[2]||(d[2]=s("div",{class:"modal-title"},"거주지(시/도) 선택",-1)),s("div",W,[(l(!0),a(_,null,M(k.doList, i=>(l(),a("button",{key:i,onClick: p=>r.$emit("selectDo",i),class:"modal-btn"},m(i),9,X))),128))])]))])])):u("",!0)}},ne={class:"auth-bg"},ae={class:"auth-card"},le={class:"auth-input-group"},ie={class:"auth-input-group",style:{display:"flex","align-items":"center",gap:"8px"}},oe={style:{flex:"1"}},re=["readonly"],ue={key:0,class:"auth-error",style:{"margin-top":"4px"}},de=["disabled"],ce={class:"auth-input-group",style:{display:"flex","align-items":"center",gap:"8px"}},me={style:{flex:"1"}},ke=["readonly"],pe={key:0,class:"auth-error",style:{"margin-top":"4px"}},he=["disabled"],ge={key:0,style:{"margin-bottom":"8px"}},ye={key:1,style:{display:"flex",gap:"8px","align-items":"center","margin-bottom":"8px"}},be={key:2,style:{"margin-bottom":"8px",color:"#8ab191","font-weight":"bold"}},fe={key:3,class:"auth-error"},ve={class:"auth-input-group",style:{display:"flex","align-items":"center",gap:"8px"}},Ce={style:{flex:"1"}},_e={class:"auth-input-group"},Me=["disabled"],Se={key:4,class:"auth-error"},xe={key:5,class:"auth-success",style:{color:"#7a9c7e","text-align":"center","margin-top":"10px"}},$e={__name:"JoinPage",setup(k){const e=F(),y=G(),b=c(null),r=c(null),d=c(!1),i=c(!1),p=c(!1),f=c("");c(!1);const C=c(""),x=T(()=>!!e.user.name&&!!e.user.nickname&&!!e.user.email&&!!e.password&&!!e.user.address&&e.emailChecked&&e.nicknameChecked),w=async()=>{if(!r.value.checkValidity()){r.value.reportValidity();return}if(!e.user.nickname||e.user.nickname.trim()===""){e.nicknameCheckMessage="닉네임을 입력해주세요.";return}await e.checkNickname(e.user.nickname)},V=()=>{e.openAddressModal()},$=async()=>{if(!e.user.name||e.user.name.trim()===""){e.errorMessage="이름을 입력해주세요.";return}if(!e.user.nickname||e.user.nickname.trim()===""){e.errorMessage="닉네임을 입력해주세요.";return}if(!e.user.email||e.user.email.trim()===""){e.errorMessage="이메일을 입력해주세요.";return}if(!e.user.address||e.user.address.trim()===""){e.errorMessage="주소를 입력해주세요.";return}if(!e.password||e.password.trim()===""){e.errorMessage="비밀번호를 입력해주세요.";return}if(!e.emailChecked){e.errorMessage="이메일 중복확인을 해주세요.";return}if(!e.nicknameChecked){e.errorMessage="닉네임 중복확인을 해주세요.";return}(await e.signup()).success&&setTimeout(()=>y.push("/login"),1e3)},D=()=>{e.setUserField("email",""),e.emailChecked=!1,e.emailCheckMessage="",i.value=!1,p.value=!1,f.value="",C.value="",d.value=!1},A=()=>{e.setUserField("nickname",""),e.nicknameChecked=!1,e.nicknameCheckMessage=""},U=()=>{e.resetAll(),y.push("/login")};P(()=>{}),j(()=>{e.resetAll()});const I=()=>{e.showAddressModal=!1},E= v=>{e.onSelectDo(v)},N= v=>{e.onSelectSigugun(v)},L=async()=>{if(!b.value.checkValidity()){b.value.reportValidity();return}if(!e.user.email||e.user.email.trim()===""){e.emailCheckMessage="이메일을 입력해주세요.";return}await e.checkEmail(e.user.email),e.emailChecked&&(i.value=!0)},q=()=>{e.sendEmail(e.user.email),p.value=!0},B=async()=>{/^\d+$/.test(f.value)&&e.checkEmailCode(e.user.email,f.value)};return(v, n)=>(l(),a("div",ne,[s("div",{class:"auth-side"},[n[6]||(n[6]=s("p",null,"Already have an account?",-1)),s("button",{class:"auth-side-btn",onClick:U},"Log In")]),s("div",ae,[n[12]||(n[12]=s("div",{class:"auth-card-bar"},null,-1)),n[13]||(n[13]=s("h2",{class:"auth-title"},"SIGN UP",-1)),s("form",{onSubmit:R($,["prevent"])},[s("div",le,[n[7]||(n[7]=s("label",null,"Name",-1)),h(s("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]= o=>t(e).user.name=o),required:""},null,512),[[g,t(e).user.name]])]),s("div",ie,[s("div",oe,[n[8]||(n[8]=s("label",null,"Nickname",-1)),h(s("input",{ref_key:"nicknameInput",ref:r,type:"text","onUpdate:modelValue":n[1]||(n[1]= o=>t(e).user.nickname=o),required:"",readonly:t(e).nicknameChecked,class:S({"input-checked":t(e).nicknameChecked})},null,10,re),[[g,t(e).user.nickname]]),t(e).nicknameCheckMessage?(l(),a("div",ue,m(t(e).nicknameCheckMessage),1)):u("",!0)]),t(e).nicknameChecked?(l(),a("button",{key:1,type:"button",class:"auth-check-btn",onClick:A,style:{background:"#fff",color:"#8ab191",border:"1.5px solid #8ab191"}}," 재입력 ")):(l(),a("button",{key:0,type:"button",class:"auth-check-btn",onClick:w,disabled:t(e).nicknameChecking}," 중복 확인 ",8,de))]),s("div",ce,[s("div",me,[n[9]||(n[9]=s("label",null,"Email",-1)),h(s("input",{ref_key:"emailInput",ref:b,type:"email","onUpdate:modelValue":n[2]||(n[2]= o=>t(e).user.email=o),required:"",readonly:t(e).emailChecked,class:S({"input-checked":t(e).emailChecked})},null,10,ke),[[g,t(e).user.email]]),t(e).emailCheckMessage?(l(),a("div",pe,m(t(e).emailCheckMessage),1)):u("",!0)]),t(e).emailChecked?(l(),a("button",{key:1,type:"button",class:"auth-check-btn",onClick:D,style:{background:"#fff",color:"#8ab191",border:"1.5px solid #8ab191"}}," 재입력 ")):(l(),a("button",{key:0,type:"button",class:"auth-check-btn",onClick:L,disabled:t(e).emailChecking}," 중복 확인 ",8,he))]),i.value&&!t(e).emailVerified&&!p.value?(l(),a("div",ge,[s("button",{type:"button",class:"auth-check-btn",onClick:q}," 이메일 인증하기 ")])):u("",!0),p.value&&!t(e).emailVerified?(l(),a("div",ye,[h(s("input",{type:"text","onUpdate:modelValue":n[3]||(n[3]= o=>f.value=o),placeholder:"인증번호 입력",style:{flex:"1"}},null,512),[[g,f.value]]),s("button",{type:"button",class:"auth-check-btn",onClick:B}," 인증 확인 ")])):u("",!0),t(e).emailVerified?(l(),a("div",be," 이메일 인증 완료 ")):u("",!0),C.value?(l(),a("div",fe,m(C.value),1)):u("",!0),s("div",ve,[s("div",Ce,[n[10]||(n[10]=s("label",null,"Address",-1)),h(s("input",{type:"text","onUpdate:modelValue":n[4]||(n[4]= o=>t(e).user.address=o),required:"",readonly:""},null,512),[[g,t(e).user.address]])]),s("button",{type:"button",class:"auth-check-btn",onClick:V}," 주소 입력 ")]),z(te,{"do-list":t(J),"sigugun-map":t(O),"selected-do":t(e).selectedDo,"selected-sigugun":t(e).selectedSigugun,show:t(e).showAddressModal,onClose:I,onSelectDo:E,onSelectSigugun:N},null,8,["do-list","sigugun-map","selected-do","selected-sigugun","show"]),s("div",_e,[n[11]||(n[11]=s("label",null,"Password",-1)),h(s("input",{type:"password","onUpdate:modelValue":n[5]||(n[5]= o=>t(e).password=o),required:""},null,512),[[g,t(e).password]])]),s("button",{type:"submit",class:"auth-submit",disabled:t(e).loading||!x.value}," Sign Up ",8,Me),t(e).errorMessage?(l(),a("div",Se,m(t(e).errorMessage),1)):u("",!0),t(e).successMessage?(l(),a("div",xe,m(t(e).successMessage),1)):u("",!0)],32)])]))}};export{$e as default};
